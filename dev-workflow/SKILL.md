---
name: dev-workflow
description: Official development standards and workflows. Use this skill when setting up new projects, managing git branches/commits, or structuring AI/ML codebases.
license: Private - Internal Use Only
---

# Development Workflow Standards

This skill provides the official engineering standards for the organization. Copilot must enforce these patterns to ensure consistency, reproducibility, and maintainability.

## 1. Governance & Authority
These guidelines are **mandatory**.
- All new projects **must** follow the defined structures.
- Code generated by Copilot must adhere to these conventions (e.g., correct branch names, folder structures).
- If a user requests a pattern that violates these standards (e.g., "just install pip packages globally"), Copilot must **politely correct** them and propose the standard approach (`uv`, virtual envs).

## 2. Capability Scaling
- **Low Complexity** (Simple questions): Use the summaries below to answer directly.
- **High Complexity** (Setup, heavy refactoring): **READ the relevant guide file** to get the full context before generating code.
- **Standards Overview:** [references/standards-overview.md](./references/standards-overview.md) â€” High-level principles, mandatory artifacts, and document index.

## 3. Core Standards Summary

### Git Workflow
**Source of Truth:** [Git Workflow Guide](./references/01-git-workflow-development.md)

- **Model:** Gitflow (use `develop` and `main`).
- **Branch Naming:** `type/description-kebab-case`
  - Examples: `feat/user-auth`, `fix/login-crash`, `chore/update-deps`.
- **Allowed Types:** `feat`, `fix`, `refactor`, `docs`, `style`, `test`, `chore`, `hotfix`, `perf`, `build`.
- **Process:** Feature branches merge to `develop`. `develop` merges to `main` for releases.

### AI & Python Development
**Source of Truth:** [AI Development Guide](./references/02-ai-development.md)

- **Package Manager:** **`uv`** (all projects must use `uv`, not raw pip/poetry).
- **Project Structure:** `src/package_name` layout (no flat layouts).
- **Environment:**
  - `uv init --lib <name>`
  - `uv python pin 3.12` (or current standard)
  - `conf.env` for secrets (never `.env` in git).
- **Key Files:** `pyproject.toml`, `uv.lock`, `.python-version`.

## 4. Workflows

### Setup New AI Project
When asked to create a new Python/AI project:
1. **Read** [AI Development Guide](./references/02-ai-development.md) for the exact folder structure and `uv` commands.
2. **Execute** the `uv init` and setup commands as defined in the guide.
3. **Ensure** `.gitignore` includes `__pycache__`, `.venv`, and `data/*`.

### Git Management
When asked to create branches or commit code:
1. **Check** the current branch.
2. **Enforce** the naming convention `type/description`.
3. If the user is on `main` and wants to code, **instruct** them to checkout `develop` or a feature branch first.

### Commit & Push Workflow

When asked to commit and/or push changes, follow this **standard procedure** for any repository:

#### Step 1: Assess Changes

Run these in parallel to understand the current state:

```bash
git status                          # Untracked + modified files
git diff --stat                     # Summary of unstaged changes
git diff --cached --stat            # Summary of staged changes
git log --oneline -5                # Recent commits for style reference
```

#### Step 2: Stage Files

- Stage only relevant files. **Never stage** files containing secrets (`.env`, `credentials.json`, `conf.env`, `*.key`).
- Use targeted `git add <path>` rather than `git add .` when possible to avoid accidental inclusions.
- If `.gitignore` is missing or incomplete, warn the user and suggest additions before staging.

#### Step 3: Write Commit Message

Follow **Conventional Commits** format:

```
type(scope): subject
```

- **type**: Must match the nature of changes (`feat`, `fix`, `refactor`, `docs`, `style`, `test`, `chore`, `hotfix`, `perf`, `build`)
- **scope** (optional): Affected component or area
- **subject**: Imperative, lowercase, no period, max 50 chars
- **body** (optional): Explain _why_ and _how_, not _what_. Wrap at 72 chars.

When multiple types of changes are present in a single commit, use the **dominant type** and list details in the body:

```
refactor(architect): consolidate skill-creator into architect

- Merge skill-creator content into architect/SKILL.md
- Move scripts and references to architect/{scripts,references}/
- Remove redundant knowledge/ directory
- Fix init_skill.py template YAML bug
```

#### Step 4: Commit and Push

```bash
git add <files>
git commit -m "type(scope): subject"
git push
```

- Verify success with `git status` after push.
- If push fails due to upstream changes, run `git pull --rebase` then retry.

#### Step 5: Post-Push (if applicable)

- If the repository has platform sync scripts (e.g., `sync-skills.sh`), run them after push.
- If git hooks exist (e.g., `post-merge`), confirm they executed correctly.
